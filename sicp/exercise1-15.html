<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <title>SICP</title>
  <meta name="description" content="Junsong's blog">
  <meta name="author" content="Junsong Li">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> </script>
  <script type="text/x-mathjax-config"> MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}}); </script>
  <link href="/assets/normalize.css" rel="stylesheet" type="text/css">
  <link href="/assets/skeleton.css" rel="stylesheet" type="text/css">
  <link href="/assets/main.css" rel="stylesheet" type="text/css">
  <link href="/assets/template282.css" rel="stylesheet" type="text/css">
  <link href="/sicp/sicp.css" rel="stylesheet" type="text/css">

  <script src="/assets/simple-jquery.js"></script>
  <script src="/assets/dropdown.js"></script>

  <link rel="icon" type="image/png" href="images/favicon.png">
</head>
<body>

  <div class="container book-header">
    <h2 class="book-title"> SICP 全笔记 </h1>
    <nav>
      <ul class="book-navbar">
        <li><a href="/sicp/index.html">目录</a></li>
        <li><a href="/sicp/about.html">关于</a></li>
      </ul>
    </nav>

  </div>

  <div class="container page">
    <div class="row">
      <div class="offset-by-two eight columns">
        <div class="content">
          <div class="exerciseQ"><p>Exercise 1.15.  The sine of an angle (specified in radians) can be computed by making use of the approximation sin x  x if x is sufficiently small, and the trigonometric identity</p><p><mathjax class="$$">$$\sin x = 3 \sin{\frac{x}{3}} - 4\sin^3{x}{3}
$$</mathjax> to reduce the size of the argument of sin. (For purposes of this exercise an angle is considered ‘‘sufficiently small’’ if its magnitude is not greater than 0.1 radians.) These ideas are incorporated in the following procedures:</p><pre class="gist"><code>(define (cube x) (* x x x))
(define (p x) (- (* 3 x) (* 4 (cube x))))
(define (sine angle)
   (if (not (&gt; (abs angle) 0.1))
       angle
       (p (sine (/ angle 3.0)))))
</code></pre><p> a.  How many times is the procedure p applied when (sine 12.15) is evaluated?</p><p>   b.  What is the order of growth in space and number of steps (as a function of a) used by the process generated by the sine procedure when (sine a) is evaluated?</p></div><p> 对 <span class="vlong v">(sine 12.15)</span> 求值的时候，每一次递归都会调用 p。当 <span class="vlong v">angle &lt;= 0.1</span> 的时候递归终止。所以调用次数：</p><pre class="gist"><code>12.15/3 = 4.05
 4.05/3 = 1.35
 1.35/3 = 0.45
 0.45/3 = 0.15
 0.15/3 = 0.05</code></pre><p> 总共调用 5 次。</p><p>我们使用 trace 来验证进入 p 的次数</p><pre class="gist"><code>1 ]=&gt; (trace p)

;Unspecified return value

1 ]=&gt; (sine 12.15)

[Entering #[compound-procedure 12 p]
    Args: 4.9999999999999996e-2]
[.1495
      &lt;== #[compound-procedure 12 p]
    Args: 4.9999999999999996e-2]
[Entering #[compound-procedure 12 p]
    Args: .1495]
[.4351345505
      &lt;== #[compound-procedure 12 p]
    Args: .1495]
[Entering #[compound-procedure 12 p]
    Args: .4351345505]
[.9758465331678772
      &lt;== #[compound-procedure 12 p]
    Args: .4351345505]
[Entering #[compound-procedure 12 p]
    Args: .9758465331678772]
[-.7895631144708228
      &lt;== #[compound-procedure 12 p]
    Args: .9758465331678772]
[Entering #[compound-procedure 12 p]
    Args: -.7895631144708228]
[-.39980345741334
      &lt;== #[compound-procedure 12 p]
    Args: -.7895631144708228]
;Value: -.39980345741334</code></pre><p> </p><h3 class="section" id="secsec4391dfbb64152b643f85631d56ba4af8">算法分析</h3><p>sine 是线性递归，占用的空间是 <mathjax class="$">$\theta(n)$</mathjax> 。步长也为 <mathjax class="$">$\theta(n)$</mathjax> 。</p><p>sine a 所需的步数可以如下计算。</p><p>sine a 计算时产生的计算需要去判断 <mathjax class="$">$a, \frac{a}{3}, \frac{a}{3x3}, \frac{a}{3x3x3}, \dots$</mathjax> 是否小于 0.1。所以可得到公式</p><p><mathjax class="$$">$$3^{-n}a &lt; 0.1$$</mathjax> 转化为 n 的式子：</p><p><mathjax class="$$">$$n &gt; log_{3}10a$$</mathjax></p>
        </div>
      </div>
    </div>

  </div>

</body>
</html>